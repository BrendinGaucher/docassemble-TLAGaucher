objects:
  - user: Individual
---
mandatory: true
code: |
  if (afford_lawyer == False):
    if has_lawyer:
      lawyer_still_acting
  
  if (appeal_matter == False):
    location_alberta
    live_alberta
    criminal_law
    family_law
      
---
question: Results
attachments:
  - name: Document
    filename: document
    content: |
      Dear, ${ user }.
      
      When asked if you can afford a lawyer, you said ${ afford_lawyer }
      
      % if (afford_lawyer == False):
      When asked if you have a lawyer, you said ${ has_lawyer }
        
        % if has_lawyer:
        When asked if your lawyer is still acting for you, you said ${ lawyer_still_acting }
        
        %endif
        
      %endif
      
      When asked if this is an appeal of a matter that you had LAA assistance on, you said ${ appeal_matter }
      
      % if (appeal_matter == False):
      When asked if your matter is in Alberta, you said ${ location_alberta }
        
      When asked if the matter was family law, you said ${ family_law }
      
      When asked if the matter was criminal law, you said ${ criminal_law }
      
      When asked if you live in Alberta, you said ${ live_alberta }

      %endif
      
      % if qualifies_studentaid:
      Congrats, you qualify for student aid. Please bring in a copy of this document that shows you qualify when you arrive for your first appointment.
      % else:
      Sorry you do not qualify, please visit our website for other resources that could help you.
      % endif
   
mandatory: true

---
generic object: Individual
question: |
  What is ${ x.object_possessive('name') }?
fields: 
  - First Name: x.name.first
  - Last Name: x.name.last
---
code: |
  if ((client_is_represented == False) and residency_alberta):
    qualifies_studentaid = True
  else:
    qualifies_studentaid = False
---
code: |
  if (afford_lawyer or (has_lawyer and lawyer_still_acting)):
    client_is_represented = True
  else:
    client_is_represented = False
---
code: |
  if  (location_alberta and (family_law or criminal_law) and live_alberta) or appeal_matter:
    residency_alberta = True
  else:
    residency_require = False
---
question: Do you have a lawyer?
yesno: has_lawyer
---
question: Can you afford a lawyer?
yesno: afford_lawyer
---
question: Is that lawyer still acting for you?
yesno: lawyer_still_acting
---
question: Is your legal matter located in Alberta?
yesno: location_alberta
---
question: Is your legal matter a family law matter?
yesno: family_law
---
question: Is your legal matter a criminal law matter?
yesno: criminal_law
---
question: Do you live in Alberta?
yesno: live_alberta
---
question: Is your matter an appeal of a matter for which the user received LAA assistance?
yesno: appeal_matter
---
